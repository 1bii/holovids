{"version":3,"sources":["constants.js","components/youtube_video/YouTubeVideo.js","components/video_gallery/VideoGallery.js","App.js","reportWebVitals.js","index.js"],"names":["Channels","gura","id","group","calli","kiara","ina","ame","irys","miko","suisei","sora","roboco","fubuki","haachama","matsuri","mel","aki","aqua","subaru","ayame","shion","choco","pekora","marine","rushia","noel","flare","coco","watame","kanata","towa","luna","botan","polka","lamy","nene","okayu","korone","mio","moona","risu","iofi","ollie","reine","anya","azki","Keywords","YouTubeVideo","thumbnails","this","props","obj","high","url","medium","default","title","className","src","imageUrl","alt","width","height","React","Component","VideoGallery","state","videos","channelId","process","channelKey","a","storedDataString","localStorage","getItem","JSON","parse","fetchVideo","requestUrl","getRequestUrl","fetch","then","resp","json","data","items","map","item","videoId","snippet","description","publishedAt","moment","setItem","stringify","channelKeys","Object","keys","Promise","all","key","getVideo","dataArr","preprocessVideos","flatMap","filterVideos","sortVideos","setState","console","log","sort","b","diff","filter","video","some","keyword","toLowerCase","includes","getAllVideos","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8SAEaA,EAAW,CAEpBC,KAAM,CACFC,GAAI,2BACJC,MAAO,MAEXC,MAAO,CACHF,GAAI,2BACJC,MAAO,MAEXE,MAAO,CACHH,GAAI,2BACJC,MAAO,MAEXG,IAAK,CACDJ,GAAI,2BACJC,MAAO,MAEXI,IAAK,CACDL,GAAI,2BACJC,MAAO,MAEXK,KAAM,CACFN,GAAI,2BACJC,MAAO,MAIXM,KAAM,CACFP,GAAI,2BACJC,MAAO,OAEXO,OAAQ,CACJR,GAAI,2BACJC,MAAO,OAEXQ,KAAM,CACFT,GAAI,2BACJC,MAAO,OAEXS,OAAQ,CACJV,GAAI,2BACJC,MAAO,OAIXU,OAAQ,CACJX,GAAI,2BACJC,MAAO,OAEXW,SAAU,CACNZ,GAAI,2BACJC,MAAO,OAEXY,QAAS,CACLb,GAAI,2BACJC,MAAO,OAEXa,IAAK,CACDd,GAAI,2BACJC,MAAO,OAEXc,IAAK,CACDf,GAAI,2BACJC,MAAO,OAIXe,KAAM,CACFhB,GAAI,2BACJC,MAAO,OAEXgB,OAAQ,CACJjB,GAAI,2BACJC,MAAO,OAEXiB,MAAO,CACHlB,GAAI,2BACJC,MAAO,OAEXkB,MAAO,CACHnB,GAAI,2BACJC,MAAO,OAEXmB,MAAO,CACHpB,GAAI,2BACJC,MAAO,OAIXoB,OAAQ,CACJrB,GAAI,2BACJC,MAAO,OAEXqB,OAAQ,CACJtB,GAAI,2BACJC,MAAO,OAEXsB,OAAQ,CACJvB,GAAI,2BACJC,MAAO,OAEXuB,KAAM,CACFxB,GAAI,2BACJC,MAAO,OAEXwB,MAAO,CACHzB,GAAI,2BACJC,MAAO,OAIXyB,KAAM,CACF1B,GAAI,2BACJC,MAAO,OAEX0B,OAAQ,CACJ3B,GAAI,2BACJC,MAAO,OAEX2B,OAAQ,CACJ5B,GAAI,2BACJC,MAAO,OAEX4B,KAAM,CACF7B,GAAI,2BACJC,MAAO,OAEX6B,KAAM,CACF9B,GAAI,2BACJC,MAAO,OAIX8B,MAAO,CACH/B,GAAI,2BACJC,MAAO,OAEX+B,MAAO,CACHhC,GAAI,2BACJC,MAAO,OAEXgC,KAAM,CACFjC,GAAI,2BACJC,MAAO,OAEXiC,KAAM,CACFlC,GAAI,2BACJC,MAAO,OAIXkC,MAAO,CACHnC,GAAI,2BACJC,MAAO,SAEXmC,OAAQ,CACJpC,GAAI,2BACJC,MAAO,SAEXoC,IAAK,CACDrC,GAAI,2BACJC,MAAO,SAIXqC,MAAO,CACHtC,GAAI,2BACJC,MAAO,OAEXsC,KAAM,CACFvC,GAAI,2BACJC,MAAO,OAEXuC,KAAM,CACFxC,GAAI,2BACJC,MAAO,OAIXwC,MAAO,CACHzC,GAAI,2BACJC,MAAO,OAEXyC,MAAO,CACH1C,GAAI,2BACJC,MAAO,OAEX0C,KAAM,CACF3C,GAAI,2BACJC,MAAO,OAIX2C,KAAM,CACF5C,GAAI,2BACJC,MAAO,UAIF4C,EAAW,CACpB,OACA,OACA,SACA,SACA,KACA,WACA,QACA,W,+BC7LWC,E,4JAjBX,WAAgB,IAAD,MACLC,EAAaC,KAAKC,MAAMC,IAAIH,WAClC,OAAO,UAAAA,EAAWI,YAAX,eAAiBC,OAAjB,UAAwBL,EAAWM,cAAnC,aAAwB,EAAmBD,OAA3C,UAAkDL,EAAWO,eAA7D,aAAkD,EAAoBF,O,iBAGjF,WACI,OAAOJ,KAAKC,MAAMC,IAAIK,Q,oBAG1B,WACI,OAAQ,sBAAKC,UAAU,kBAAf,UACJ,qBAAKA,UAAU,QAAQC,IAAKT,KAAKU,SAAUC,IAAKX,KAAKO,MAAOK,MAAM,MAAMC,OAAO,QAC/E,qBAAKL,UAAU,QAAf,SAAwBR,KAAKO,e,GAbdO,IAAMC,WCgGlBC,G,wDA1FX,WAAYf,GAAQ,IAAD,8BACf,cAAMA,IACDgB,MAAQ,CAAEC,OAAQ,IAFR,E,iDAKnB,SAAcC,GACV,MAAM,oDAAN,OFfeC,0CEef,sBAAgFD,EAAhF,kDATY,O,6DAYhB,WAAeE,GAAf,eAAAC,EAAA,2DACUC,EAAmBC,aAAaC,QAAQJ,KACD,cAArBE,EAF5B,yCAGeG,KAAKC,MAAMJ,IAH1B,uBAKiBvB,KAAK4B,WAAWP,GALjC,wF,sHAQA,WAAiBA,GAAjB,mBAAAC,EAAA,6DACUH,EAAYrE,EAASuE,GAAYrE,GACjC6E,EAAa7B,KAAK8B,cAAcX,GAF1C,SAGuBY,MAAMF,GACpBG,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GAAI,oBAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAMC,aAAV,aAAI,EAAaC,KAAI,SAAAC,GAC3B,MAAO,CACHC,QAASD,EAAKtF,GAAGuF,QACjBxC,WAAYuC,EAAKE,QAAQzC,WACzBQ,MAAO+B,EAAKE,QAAQjC,MACpBkC,YAAaH,EAAKE,QAAQC,YAC1BC,YAAaC,IAAOL,EAAKE,QAAQE,oBAXjD,cAGUP,EAHV,OAcIX,aAAaoB,QAAQvB,EAAYK,KAAKmB,UAAUV,IAdpD,kBAeWA,GAfX,gD,iFAkBA,WAAgB,IAAD,OACLW,EAAcC,OAAOC,KAAKlG,GAChCmG,QAAQC,IAAIJ,EAAYT,KAAI,SAAAc,GAAG,OAAI,EAAKC,SAASD,OAAOnB,MAAK,SAAAqB,GACzD,IAAMnC,EACF,EAAKoC,iBAAiBD,EAAQE,SAAQ,SAAApB,GAClC,OAAKA,EAGE,EAAKqB,aAAarB,GAFd,OAInB,EAAKsB,WAAWvC,GAChB,EAAKwC,SAAS,CAAExC,WAChByC,QAAQC,IAAI1C,Q,wBAIpB,SAAWA,GACPA,EAAO2C,MAAK,SAACvC,EAAGwC,GAAJ,OAAUA,EAAEpB,YAAYqB,KAAKzC,EAAEoB,kB,0BAI/C,SAAaxB,GACT,OAAOA,EAAO8C,QAAO,SAAAC,GAAK,OACtBA,EAAM1B,SAAW1C,EAASqE,MAAK,SAAAC,GAAO,OAClCF,EAAM1D,MAAM6D,cAAcC,SAASF,EAAQC,gBAC3CH,EAAMxB,YAAY2B,cAAcC,SAASF,EAAQC,uB,8BAI7D,SAAiBlD,GACb,OAAOA,EAAOmB,KAAI,SAAA4B,GACd,OAAO,2BACAA,GADP,IAEIvB,YAAaC,IAAOsB,EAAMvB,oB,+BAKtC,WACI1C,KAAKsE,iB,oBAGT,WACI,OACI,qBAAK9D,UAAU,gBAAf,SAEQR,KAAKiB,MAAMC,OAAOmB,KAAI,SAAA4B,GAAK,OACvB,cAAC,EAAD,CAAc/D,IAAK+D,a,GAnFhBnD,IAAMC,YCGlBwD,MARf,WACE,OACE,qBAAK/D,UAAU,MAAf,SACE,cAAC,EAAD,OCMSgE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1C,MAAK,YAAkD,IAA/C2C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.6a965285.chunk.js","sourcesContent":["export const API_KEY = process.env.REACT_APP_API_KEY;\n\nexport const Channels = {\n    // en\n    gura: {\n        id: \"UCoSrY_IQQVpmIRZ9Xf-y93g\",\n        group: \"en\"\n    },\n    calli: {\n        id: \"UCL_qhgtOy0dy1Agp8vkySQg\",\n        group: \"en\"\n    },\n    kiara: {\n        id: \"UCHsx4Hqa-1ORjQTh9TYDhww\",\n        group: \"en\"\n    },\n    ina: {\n        id: \"UCMwGHR0BTZuLsmjY_NT5Pwg\",\n        group: \"en\"\n    },\n    ame: {\n        id: \"UCyl1z3jo3XHR1riLFKG5UAg\",\n        group: \"en\"\n    },\n    irys: {\n        id: \"UC8rcEBzJSleTkf_-agPM20g\",\n        group: \"en\"\n    },\n    \n    // 0 gen\n    miko: {\n        id: \"UC-hM6YJuNYVAmUWxeIr9FeA\",\n        group: \"jp0\"\n    },\n    suisei: {\n        id: \"UC5CwaMl1eIgY8h02uZw7u8A\",\n        group: \"jp0\"\n    },\n    sora: {\n        id: \"UCp6993wxpyDPHUpavwDFqgg\",\n        group: \"jp0\"\n    },\n    roboco: {\n        id: \"UCDqI2jOz0weumE8s7paEk6g\",\n        group: \"jp0\"\n    },\n\n    // 1 gen\n    fubuki: {\n        id: \"UCdn5BQ06XqgXoAxIhbqw5Rg\",\n        group: \"jp1\"\n    },\n    haachama: {\n        id: \"UC1CfXB_kRs3C-zaeTG3oGyg\",\n        group: \"jp1\"\n    },\n    matsuri: {\n        id: \"UCQ0UDLQCjY0rmuxCDE38FGg\",\n        group: \"jp1\"\n    },\n    mel: {\n        id: \"UCD8HOxPs4Xvsm8H0ZxXGiBw\",\n        group: \"jp1\"\n    },\n    aki: {\n        id: \"UCFTLzh12_nrtzqBPsTCqenA\",\n        group: \"jp1\"\n    },\n\n    // 2 gen\n    aqua: {\n        id: \"UC1opHUrw8rvnsadT-iGp7Cg\",\n        group: \"jp2\"\n    },\n    subaru: {\n        id: \"UCvzGlP9oQwU--Y0r9id_jnA\",\n        group: \"jp2\"\n    },\n    ayame: {\n        id: \"UC7fk0CB07ly8oSl0aqKkqFg\",\n        group: \"jp2\"\n    },\n    shion: {\n        id: \"UCXTpFs_3PqI41qX2d9tL2Rw\",\n        group: \"jp2\"\n    },\n    choco: {\n        id: \"UC1suqwovbL1kzsoaZgFZLKg\",\n        group: \"jp2\"\n    },\n\n    // 3 gen\n    pekora: {\n        id: \"UC1DCedRgGHBdm81E1llLhOQ\",\n        group: \"jp3\"\n    },\n    marine: {\n        id: \"UCCzUftO8KOVkV4wQG1vkUvg\",\n        group: \"jp3\" \n    },\n    rushia: {\n        id: \"UCl_gCybOJRIgOXw6Qb4qJzQ\",\n        group: \"jp3\"\n    },\n    noel: {\n        id: \"UCdyqAaZDKHXg4Ahi7VENThQ\",\n        group: \"jp3\"\n    },\n    flare: {\n        id: \"UCvInZx9h3jC2JzsIzoOebWg\",\n        group: \"jp3\"\n    },\n\n    // 4 gen\n    coco: {\n        id: \"UCS9uQI-jC3DE0L4IpXyvr6w\",\n        group: \"jp4\"\n    },\n    watame: {\n        id: \"UCqm3BQLlJfvkTsX_hvm0UmA\",\n        group: \"jp4\"\n    },\n    kanata: {\n        id: \"UCZlDXzGoo7d44bwdNObFacg\",\n        group: \"jp4\"\n    },\n    towa: {\n        id: \"UC1uv2Oq6kNxgATlCiez59hw\",\n        group: \"jp4\"\n    },\n    luna: {\n        id: \"UCa9Y57gfeY0Zro_noHRVrnw\",\n        group: \"jp4\"\n    },\n\n    // 5 gen\n    botan: {\n        id: \"UCUKD-uaobj9jiqB-VXt71mA\",\n        group: \"jp5\"\n    },\n    polka: {\n        id: \"UCK9V2B22uJYu3N7eR_BT9QA\",\n        group: \"jp5\"\n    },\n    lamy: {\n        id: \"UCFKOVgVbGmX65RxO3EtH3iw\",\n        group: \"jp5\"\n    },\n    nene: {\n        id: \"UCAWSyEs_Io8MtpY3m-zqILA\",\n        group: \"jp5\"\n    },\n\n    // gamers\n    okayu: {\n        id: \"UCvaTdHTWBGv3MKj3KVqJVCw\",\n        group: \"gamer\"\n    },\n    korone: {\n        id: \"UChAnqc_AY5_I3Px5dig3X1Q\",\n        group: \"gamer\"\n    },\n    mio: {\n        id: \"UCp-5t9SrOQwXMU7iIjQfARg\",\n        group: \"gamer\"\n    },\n\n    // id gen 1\n    moona: {\n        id: \"UCP0BspO_AMEe3aQqqpo89Dg\",\n        group: \"id1\"\n    },\n    risu: {\n        id: \"UCOyYb1c43VlX9rc_lT6NKQw\",\n        group: \"id1\"\n    },\n    iofi: {\n        id: \"UCAoy6rzhSf4ydcYjJw3WoVg\",\n        group: \"id1\"\n    },\n\n    // id gen 2\n    ollie: {\n        id: \"UCYz_5n-uDuChHtLo7My1HnQ\",\n        group: \"id2\"\n    },\n    reine: {\n        id: \"UChgTyjG-pdNvxxhdsXfHQ5Q\",\n        group: \"id2\"\n    },\n    anya: {\n        id: \"UC727SQYUvx5pDDGQpTICNWg\",\n        group: \"id2\"\n    },\n\n    // music\n    azki: {\n        id: \"UC0TXe_LYZ4scaW2XMyi5_kw\",\n        group: \"music\"\n    },\n};\n\nexport const Keywords = [\n    \"song\",\n    \"sing\",\n    \"歌\",\n    \"曲\",\n    \"MV\",\n    \"original\",\n    \"cover\",\n    \"karaoke\"\n];","import React from 'react';\nimport './YouTubeVideo.scss';\n\nclass YouTubeVideo extends React.Component {\n    get imageUrl() {\n        const thumbnails = this.props.obj.thumbnails;\n        return thumbnails.high?.url || thumbnails.medium?.url || thumbnails.default?.url;\n    }\n\n    get title() {\n        return this.props.obj.title;\n    }\n\n    render() {\n        return (<div className=\"video-container\">\n            <img className=\"video\" src={this.imageUrl} alt={this.title} width=\"500\" height=\"600\"></img>\n            <div className=\"title\">{this.title}</div>\n        </div>);\n    }\n}\n\nexport default YouTubeVideo;","import React from 'react';\nimport { API_KEY, Channels, Keywords } from '../../constants';\nimport moment from 'moment'\nimport YouTubeVideo from '../youtube_video/YouTubeVideo'\nimport './VideoGallery.scss';\n\nconst MAX_RESULTS = 100;\n\nclass VideoGallery extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { videos: [] };\n    }\n\n    getRequestUrl(channelId) {\n        return `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${channelId}&part=snippet,id&order=date&maxResults=${MAX_RESULTS}`;\n    }\n\n    async getVideo(channelKey) {\n        const storedDataString = localStorage.getItem(channelKey);\n        if (storedDataString && storedDataString !== 'undefined') {\n            return JSON.parse(storedDataString);\n        }\n        return await this.fetchVideo(channelKey);\n    }\n\n    async fetchVideo(channelKey) {\n        const channelId = Channels[channelKey].id;\n        const requestUrl = this.getRequestUrl(channelId);\n        const data = await fetch(requestUrl)\n            .then(resp => resp.json())\n            .then(data => data?.items?.map(item => {\n                return {\n                    videoId: item.id.videoId,\n                    thumbnails: item.snippet.thumbnails,\n                    title: item.snippet.title,\n                    description: item.snippet.description,\n                    publishedAt: moment(item.snippet.publishedAt)\n                };\n            }));\n        localStorage.setItem(channelKey, JSON.stringify(data));\n        return data;\n    }\n\n    getAllVideos() {\n        const channelKeys = Object.keys(Channels);\n        Promise.all(channelKeys.map(key => this.getVideo(key))).then(dataArr => {\n            const videos =\n                this.preprocessVideos(dataArr.flatMap(data => {\n                    if (!data) {\n                        return [];\n                    }\n                    return this.filterVideos(data);\n                }));\n            this.sortVideos(videos);\n            this.setState({ videos });\n            console.log(videos);\n        });\n    }\n\n    sortVideos(videos) {\n        videos.sort((a, b) => b.publishedAt.diff(a.publishedAt));\n    }\n\n    // checks videoId exists and title/description match the keywords\n    filterVideos(videos) {\n        return videos.filter(video =>\n            video.videoId && Keywords.some(keyword =>\n                video.title.toLowerCase().includes(keyword.toLowerCase()) ||\n                video.description.toLowerCase().includes(keyword.toLowerCase())));\n    }\n\n    // preprocessed videos, publishedAt might not be a moment object after retrieving\n    preprocessVideos(videos) {\n        return videos.map(video => {\n            return {\n                ...video,\n                publishedAt: moment(video.publishedAt)\n            };\n        })\n    }\n\n    componentDidMount() {\n        this.getAllVideos();\n    }\n\n    render() {\n        return (\n            <div className=\"video-wrapper\">\n                {\n                    this.state.videos.map(video =>\n                        <YouTubeVideo obj={video}></YouTubeVideo>\n                    )\n                }\n            </div>\n        );\n    }\n}\n\nexport default VideoGallery;","import './App.css';\nimport VideoGallery from './components/video_gallery/VideoGallery';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <VideoGallery></VideoGallery>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}